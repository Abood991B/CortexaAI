# ============================================================
# CortexaAI - Environment Configuration
# ============================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# At minimum, you need ONE LLM provider API key.
# Google Gemini is recommended (free tier available).
# ============================================================

# ----------------------------------------------------------
# LLM Provider API Keys (at least one required)
# ----------------------------------------------------------

# Google Gemini (recommended - free tier available at aistudio.google.com)
GOOGLE_API_KEY=your_google_api_key_here

# OpenAI (optional)
OPENAI_API_KEY=

# Anthropic (optional)
ANTHROPIC_API_KEY=

# Groq (optional - extremely fast inference, free tier at console.groq.com)
GROQ_API_KEY=

# DeepSeek (optional - powerful reasoning, affordable at platform.deepseek.com)
DEEPSEEK_API_KEY=

# OpenRouter (optional - access 100+ models via openrouter.ai)
OPENROUTER_API_KEY=

# ----------------------------------------------------------
# Model Configuration
# ----------------------------------------------------------
# Provider: google | openai | anthropic | groq | deepseek | openrouter
DEFAULT_MODEL_PROVIDER=google

# Model name (must match the provider above)
# Google:      gemma-3-27b-it (primary), gemma-3-12b-it, gemma-3-4b-it, gemini-2.0-flash, gemini-2.5-flash-lite
# OpenAI:      gpt-4o-mini, gpt-4o, gpt-4-turbo
# Anthropic:   claude-3-haiku-20240307, claude-3-sonnet-20240229
# Groq:        llama-3.3-70b-versatile, mixtral-8x7b-32768
# DeepSeek:    deepseek-chat, deepseek-reasoner
# OpenRouter:  google/gemini-2.0-flash-exp:free, meta-llama/llama-3.3-70b-instruct:free
DEFAULT_MODEL_NAME=gemma-3-27b-it

# ----------------------------------------------------------
# LLM Behavior
# ----------------------------------------------------------
MAX_LLM_RETRIES=3
LLM_RETRY_DELAY=1.0
LLM_TIMEOUT_SECONDS=60

# ----------------------------------------------------------
# Prompt Optimization Engine
# ----------------------------------------------------------
MAX_EVALUATION_ITERATIONS=3
EVALUATION_THRESHOLD=0.8

# A/B testing for prompt variants
ENABLE_AB_TESTING=true

# Prompt version history tracking
ENABLE_PROMPT_VERSIONING=true

# Optimization strategy: basic | iterative | evolutionary
OPTIMIZATION_STRATEGY=iterative

# ----------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------
HOST=0.0.0.0
PORT=8000
LOG_LEVEL=INFO

# ----------------------------------------------------------
# LangSmith Tracing (optional - for workflow debugging)
# ----------------------------------------------------------
LANGSMITH_API_KEY=
LANGSMITH_PROJECT=cortexaai
LANGSMITH_ENDPOINT=https://api.smith.langchain.com

# ----------------------------------------------------------
# Security Configuration
# ----------------------------------------------------------
SECURITY_LEVEL=balanced
ENABLE_INPUT_SANITIZATION=true
ENABLE_CONTENT_FILTERING=true
ENABLE_PII_DETECTION=true
ENABLE_RATE_LIMITING=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=3600

# ----------------------------------------------------------
# Performance & Caching
# ----------------------------------------------------------
ENABLE_CACHING=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
# Optional Redis URL for distributed cache (leave empty for in-memory only)
# REDIS_URL=redis://localhost:6379/0

# ----------------------------------------------------------
# API Key Authentication (v3.0)
# ----------------------------------------------------------
# Set to true to require X-API-Key header on all endpoints
REQUIRE_API_KEY=false

# ----------------------------------------------------------
# Webhooks (v3.0)
# ----------------------------------------------------------
# Default callback URL for workflow results (leave empty to disable)
# DEFAULT_WEBHOOK_URL=

# ----------------------------------------------------------
# Database (v3.0)
# ----------------------------------------------------------
# SQLite database path (relative to project root)
DATABASE_PATH=data/cortexaai.db

# ----------------------------------------------------------
# Reliability
# ----------------------------------------------------------
ENABLE_CIRCUIT_BREAKERS=true
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
ENABLE_DLQ=true
DLQ_MAX_SIZE=1000
DLQ_RETENTION_HOURS=24

# ----------------------------------------------------------
# Memory / RAG (experimental)
# ----------------------------------------------------------
ENABLE_RAG=false
RAG_TOP_K=5
MEMORY_CACHE_SIZE=100
